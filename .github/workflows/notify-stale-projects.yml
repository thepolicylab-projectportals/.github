name: Get email body for stale projects

on:
  workflow_call:
    inputs:
      to:
        type: string
        default: "heather_yu@brown.edu"
      query:
        required: true

permissions:
  contents: read
  packages: read
  pull-requests: write

jobs:
  build:
    runs-on: ubuntu-20.04

    steps:
      - name: Checkout source
        uses: actions/checkout@v3

      - run: npm install

      - name: Email Stale Projects
        runs:
          using: 'node12'
          main: './github-email/.github/scripts/get-stale-projects.js'